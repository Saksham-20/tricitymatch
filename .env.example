# =============================================================================
# TricityMatch Environment Configuration Template
# =============================================================================
# Copy this file to .env.development, .env.production, or .env.test
# and fill in the values for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, production, test

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
PORT=5000
FRONTEND_URL=http://localhost:3000
# Production: https://your-domain.com

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your-secure-password
DB_NAME=matrimony_dev
# Production: use strong password, consider SSL
DB_POOL_MAX=10
DB_POOL_MIN=2

# For production with SSL:
# DB_SSL_REJECT_UNAUTHORIZED=true

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (Caching & Job Queues)
# -----------------------------------------------------------------------------
# Option 1: Redis URL (recommended for cloud providers)
REDIS_URL=
# Example: redis://user:password@host:6379

# Option 2: Individual settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT Secret - MUST be at least 32 characters, random, and secure
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-this-to-a-very-long-random-secure-string-min-32-chars

# Token Expiry
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
RESET_TOKEN_EXPIRY=1h

# Cookie Secret for signed cookies
COOKIE_SECRET=another-secure-random-string-for-cookies

# CSRF Protection
CSRF_SECRET=csrf-secret-for-production

# Bcrypt rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5
AUTH_RATE_LIMIT_WINDOW_MS=900000

# Account Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# Request Limits
MAX_REQUEST_SIZE=10kb
MAX_FILE_SIZE=5242880

# -----------------------------------------------------------------------------
# PAYMENT GATEWAY (Razorpay)
# -----------------------------------------------------------------------------
# Get keys from https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (SMTP)
# -----------------------------------------------------------------------------
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=TricityMatch <noreply@tricitymatch.com>

# For Gmail, use App Password: https://myaccount.google.com/apppasswords

# -----------------------------------------------------------------------------
# CLOUDINARY (Image Storage)
# -----------------------------------------------------------------------------
# Get credentials from https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_FOLDER=tricitymatch

# -----------------------------------------------------------------------------
# FILE UPLOAD
# -----------------------------------------------------------------------------
UPLOAD_DIR=./uploads
MAX_GALLERY_PHOTOS=5

# -----------------------------------------------------------------------------
# CHAT CONFIGURATION
# -----------------------------------------------------------------------------
MAX_MESSAGE_LENGTH=2000
MESSAGE_EDIT_TIME_LIMIT_MINUTES=15

# -----------------------------------------------------------------------------
# MONITORING & ALERTING
# -----------------------------------------------------------------------------
MONITORING_ENABLED=true
# Comma-separated emails for critical alerts
ALERT_EMAILS=admin@tricitymatch.com,devops@tricitymatch.com

# Slack webhook for alerts (optional)
SLACK_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# ADMIN
# -----------------------------------------------------------------------------
ADMIN_EMAIL=admin@tricitymatch.com

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000
# Production: https://your-domain.com

# -----------------------------------------------------------------------------
# API DOCUMENTATION
# -----------------------------------------------------------------------------
ENABLE_SWAGGER=true
# Set to false in production if you want to hide docs

# =============================================================================
# DOCKER COMPOSE SPECIFIC (used by docker-compose.yml)
# =============================================================================
BACKEND_PORT=5000
FRONTEND_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=changeme
VITE_API_URL=/api
