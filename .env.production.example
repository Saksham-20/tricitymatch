# =============================================================================
# TricityMatch Production Environment Configuration
# =============================================================================
# IMPORTANT: Never commit this file with real values to version control!
# Use environment variables or a secrets manager in production.
# =============================================================================

NODE_ENV=production

# -----------------------------------------------------------------------------
# SERVER
# -----------------------------------------------------------------------------
PORT=5000
FRONTEND_URL=https://tricitymatch.com

# -----------------------------------------------------------------------------
# DATABASE (Use strong credentials!)
# -----------------------------------------------------------------------------
DB_HOST=your-db-host.cloud-provider.com
DB_PORT=5432
DB_USER=tricitymatch_prod
DB_PASSWORD=<STRONG_RANDOM_PASSWORD>
DB_NAME=tricitymatch_production
DB_SSL_REJECT_UNAUTHORIZED=true
DB_POOL_MAX=20
DB_POOL_MIN=5

# -----------------------------------------------------------------------------
# REDIS (Use cloud Redis with TLS)
# -----------------------------------------------------------------------------
REDIS_URL=rediss://user:password@your-redis.cloud:6379
# Or individual settings:
# REDIS_HOST=your-redis.cloud.com
# REDIS_PORT=6379
# REDIS_PASSWORD=<REDIS_PASSWORD>
# REDIS_TLS=true

# -----------------------------------------------------------------------------
# SECURITY (Generate unique, strong secrets!)
# -----------------------------------------------------------------------------
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=<64_CHAR_RANDOM_HEX_STRING>
COOKIE_SECRET=<ANOTHER_64_CHAR_RANDOM_STRING>
CSRF_SECRET=<CSRF_RANDOM_STRING>

JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
RESET_TOKEN_EXPIRY=1h
BCRYPT_ROUNDS=12

# Stricter rate limits for production
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=60
AUTH_RATE_LIMIT_MAX=3
AUTH_RATE_LIMIT_WINDOW_MS=900000
MAX_LOGIN_ATTEMPTS=3
LOCKOUT_DURATION_MINUTES=60

# -----------------------------------------------------------------------------
# PAYMENT (Production Razorpay Keys)
# -----------------------------------------------------------------------------
RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=<LIVE_SECRET>
RAZORPAY_WEBHOOK_SECRET=<WEBHOOK_SECRET>

# -----------------------------------------------------------------------------
# EMAIL (Production SMTP)
# -----------------------------------------------------------------------------
EMAIL_HOST=smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_SECURE=true
EMAIL_USER=noreply@tricitymatch.com
EMAIL_PASSWORD=<EMAIL_PASSWORD>
EMAIL_FROM=TricityMatch <noreply@tricitymatch.com>

# -----------------------------------------------------------------------------
# CLOUDINARY
# -----------------------------------------------------------------------------
CLOUDINARY_CLOUD_NAME=tricitymatch-prod
CLOUDINARY_API_KEY=<API_KEY>
CLOUDINARY_API_SECRET=<API_SECRET>
CLOUDINARY_FOLDER=tricitymatch-production

# -----------------------------------------------------------------------------
# MONITORING
# -----------------------------------------------------------------------------
MONITORING_ENABLED=true
ALERT_EMAILS=ops@tricitymatch.com,alerts@tricitymatch.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# -----------------------------------------------------------------------------
# ADMIN
# -----------------------------------------------------------------------------
ADMIN_EMAIL=admin@tricitymatch.com

# -----------------------------------------------------------------------------
# CORS (Restrict to your domain only)
# -----------------------------------------------------------------------------
CORS_ORIGIN=https://tricitymatch.com

# Disable Swagger in production for security
ENABLE_SWAGGER=false

# -----------------------------------------------------------------------------
# DOCKER COMPOSE
# -----------------------------------------------------------------------------
BACKEND_PORT=5000
FRONTEND_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
GRAFANA_PASSWORD=<SECURE_GRAFANA_PASSWORD>
VITE_API_URL=https://tricitymatch.com/api
